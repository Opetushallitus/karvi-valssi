# Generated by Django 3.2.7 on 2021-11-01 10:53

from django.db import migrations, models
import django.db.models.deletion

from django.conf import settings


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Kayttaja',
            fields=[
                ('oid', models.CharField(max_length=80, primary_key=True, serialize=False)),
                ('uid', models.CharField(max_length=80, unique=True)),
                ('etunimi', models.CharField(blank=True, max_length=100, null=True)),
                ('sukunimi', models.CharField(blank=True, max_length=100, null=True)),
                ('voimassa', models.BooleanField()),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'kayttaja',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='Organisaatio',
            fields=[
                ('ytunnus', models.CharField(blank=True, max_length=10, null=True)),
                ('nimi_fi', models.CharField(max_length=200)),
                ('nimi_sv', models.CharField(blank=True, max_length=200, null=True)),
                ('sahkoposti', models.CharField(blank=True, max_length=100, null=True)),
                ('puhelin', models.CharField(blank=True, max_length=100, null=True)),
                ('osoite', models.CharField(blank=True, max_length=100, null=True)),
                ('postinumero', models.CharField(blank=True, max_length=5, null=True)),
                ('postitoimipaikka', models.CharField(blank=True, max_length=40, null=True)),
                ('www_osoite', models.CharField(blank=True, max_length=200, null=True)),
                ('oid', models.CharField(max_length=40, primary_key=True, serialize=False)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('voimassa', models.BooleanField()),
                ('lakkautuspaiva', models.DateField(blank=True, null=True)),
                ('nimi_en', models.CharField(blank=True, max_length=200, null=True)),
                ('tyypit', models.TextField(blank=True, null=True)),
                ('oppilaitoskoodi', models.CharField(blank=True, max_length=5, null=True)),
                ('oppilaitostyyppi', models.CharField(blank=True, max_length=5, null=True)),
                ('toimipistekoodi', models.CharField(blank=True, max_length=9, null=True)),
                ('kunta', models.CharField(blank=True, max_length=3, null=True)),
                ('metatiedot', models.JSONField(blank=True, null=True)),
                ('parent_oid', models.ForeignKey(blank=True, db_column='parent_oid', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.organisaatio')),
            ],
            options={
                'db_table': 'organisaatio',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='Kysely',
            fields=[
                ('kyselyid', models.AutoField(primary_key=True, serialize=False)),
                ('voimassa_alkupvm', models.DateField(blank=True, null=True)),
                ('voimassa_loppupvm', models.DateField(blank=True, null=True)),
                ('nimi_fi', models.CharField(blank=True, max_length=200, null=True)),
                ('nimi_sv', models.CharField(blank=True, max_length=200, null=True)),
                ('selite_fi', models.TextField(blank=True, null=True)),
                ('selite_sv', models.TextField(blank=True, null=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('nimi_en', models.CharField(blank=True, max_length=200, null=True)),
                ('selite_en', models.TextField(blank=True, null=True)),
                ('uudelleenohjaus_url', models.CharField(blank=True, max_length=2000, null=True)),
                ('sivutettu', models.BooleanField(blank=True, null=True)),
                ('tyyppi', models.TextField(blank=True, null=True)),
                ('metatiedot', models.JSONField(blank=True, null=True)),
                ('koulutustoimija', models.ForeignKey(db_column='koulutustoimija', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysely_koulutustoimija', blank=True, null=True, to='kyselyt.organisaatio')),
                ('oppilaitos', models.ForeignKey(db_column='oppilaitos', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysely_oppilaitos', blank=True, null=True, to='kyselyt.organisaatio')),
            ],
            options={
                'db_table': 'kysely',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='Kyselykerta',
            fields=[
                ('kyselykertaid', models.AutoField(primary_key=True, serialize=False)),
                ('nimi', models.CharField(max_length=200)),
                ('voimassa_alkupvm', models.DateField()),
                ('voimassa_loppupvm', models.DateField(blank=True, null=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('lukittu', models.BooleanField(blank=True, null=True)),
                ('metatiedot', models.JSONField(blank=True, null=True)),
                ('automaattinen', models.TextField(blank=True, null=True)),
                ('kyselyid', models.ForeignKey(db_column='kyselyid', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kysely')),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kyselykerta_muutettu_kayttaja', to='kyselyt.kayttaja')),
            ],
            options={
                'db_table': 'kyselykerta',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='Kysymys',
            fields=[
                ('kysymysid', models.AutoField(primary_key=True, serialize=False)),
                ('pakollinen', models.BooleanField()),
                ('poistettava', models.BooleanField()),
                ('vastaustyyppi', models.CharField(max_length=20)),
                ('kysymys_fi', models.CharField(blank=True, max_length=500, null=True)),
                ('kysymys_sv', models.CharField(blank=True, max_length=500, null=True)),
                ('jarjestys', models.IntegerField(blank=True, null=True)),
                ('monivalinta_max', models.IntegerField(blank=True, null=True)),
                ('max_vastaus', models.IntegerField(blank=True, null=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('eos_vastaus_sallittu', models.BooleanField(blank=True, null=True)),
                ('kysymys_en', models.CharField(blank=True, max_length=500, null=True)),
                ('jatkokysymys', models.BooleanField()),
                ('rajoite', models.TextField(blank=True, null=True)),
                ('selite_fi', models.TextField(blank=True, null=True)),
                ('selite_sv', models.TextField(blank=True, null=True)),
                ('selite_en', models.TextField(blank=True, null=True)),
                ('raportoitava', models.BooleanField(blank=True, null=True)),
                ('metatiedot', models.JSONField(blank=True, null=True)),
                ('matriisi_jarjestys', models.IntegerField(blank=True, null=True)),
                ('matriisi_kysymysid', models.IntegerField(blank=True, null=True)),
            ],
            options={
                'db_table': 'kysymys',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='TilaEnum',
            fields=[
                ('nimi', models.CharField(max_length=20, primary_key=True, serialize=False)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'tila_enum',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='Tutkinto',
            fields=[
                ('tutkintotunnus', models.CharField(max_length=6, primary_key=True, serialize=False)),
                ('opintoala', models.CharField(blank=True, max_length=3, null=True)),
                ('nimi_fi', models.CharField(max_length=200)),
                ('nimi_sv', models.CharField(blank=True, max_length=200, null=True)),
                ('voimassa_alkupvm', models.DateField(blank=True, null=True)),
                ('voimassa_loppupvm', models.DateField(blank=True, null=True)),
                ('luotuaika', models.DateTimeField()),
                ('muutettuaika', models.DateTimeField()),
                ('siirtymaajan_loppupvm', models.DateField(blank=True, null=True)),
                ('nimi_en', models.CharField(blank=True, max_length=200, null=True)),
                ('tutkintotyyppi', models.CharField(blank=True, max_length=25, null=True)),
            ],
            options={
                'db_table': 'tutkinto',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='Vastaus',
            fields=[
                ('vastausid', models.AutoField(primary_key=True, serialize=False)),
                ('kysymysid', models.IntegerField()),
                ('vastaajaid', models.IntegerField()),
                ('string', models.TextField(blank=True, null=True)),
                ('numerovalinta', models.DecimalField(blank=True, decimal_places=0, max_digits=5, null=True)),
                ('vaihtoehto', models.CharField(blank=True, max_length=10, null=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('en_osaa_sanoa', models.BooleanField(blank=True, null=True)),
            ],
            options={
                'db_table': 'vastaus',
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Vastaajatunnus',
            fields=[
                ('vastaajatunnusid', models.AutoField(primary_key=True, serialize=False)),
                ('tunnus', models.CharField(max_length=30, unique=True)),
                ('kohteiden_lkm', models.IntegerField(blank=True, null=True)),
                ('lukittu', models.BooleanField()),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('voimassa_alkupvm', models.DateField(blank=True, null=True)),
                ('voimassa_loppupvm', models.DateField(blank=True, null=True)),
                ('suorituskieli', models.CharField(blank=True, max_length=2, null=True)),
                ('koulutusmuoto', models.CharField(blank=True, max_length=255, null=True)),
                ('kunta', models.CharField(blank=True, max_length=3, null=True)),
                ('taustatiedot', models.JSONField(blank=True, null=True)),
                ('metatiedot', models.JSONField(blank=True, null=True)),
                ('kyselykertaid', models.ForeignKey(db_column='kyselykertaid', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kyselykerta')),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='vastaajatunnus_muutettu_kayttaja', to='kyselyt.kayttaja')),
                ('tutkintotunnus', models.ForeignKey(blank=True, db_column='tutkintotunnus', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.tutkinto')),
            ],
            options={
                'db_table': 'vastaajatunnus',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='Kysymysryhma',
            fields=[
                ('kysymysryhmaid', models.AutoField(primary_key=True, serialize=False)),
                ('taustakysymykset', models.BooleanField()),
                ('valtakunnallinen', models.BooleanField()),
                ('nimi_fi', models.CharField(blank=True, max_length=200, null=True)),
                ('nimi_sv', models.CharField(blank=True, max_length=200, null=True)),
                ('selite_fi', models.TextField(blank=True, null=True)),
                ('selite_sv', models.TextField(blank=True, null=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('kuvaus_fi', models.CharField(blank=True, max_length=800, null=True)),
                ('kuvaus_sv', models.CharField(blank=True, max_length=800, null=True)),
                ('nimi_en', models.CharField(blank=True, max_length=200, null=True)),
                ('selite_en', models.TextField(blank=True, null=True)),
                ('kuvaus_en', models.CharField(blank=True, max_length=800, null=True)),
                ('metatiedot', models.JSONField(blank=True, null=True)),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysymysryhma_muutettu_kayttaja', to='kyselyt.kayttaja')),
                ('tila', models.ForeignKey(blank=True, db_column='tila', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.tilaenum')),
            ],
            options={
                'db_table': 'kysymysryhma',
                'managed': settings.TESTING,
            },
        ),
        migrations.CreateModel(
            name='KysymysJatkokysymys',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('vastaus', models.CharField(max_length=20)),
                ('nakyvissa', models.BooleanField(blank=True, null=True)),
                ('jatkokysymysid', models.ForeignKey(db_column='jatkokysymysid', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysymysjatkokysymys_jatkokysymysid', to='kyselyt.kysymys')),
                ('kysymysid', models.ForeignKey(db_column='kysymysid', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kysymys')),
            ],
            options={
                'db_table': 'kysymys_jatkokysymys',
                'managed': settings.TESTING,
            },
        ),
        migrations.AddField(
            model_name='kysymys',
            name='kysymysryhmaid',
            field=models.ForeignKey(db_column='kysymysryhmaid', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysymykset', to='kyselyt.kysymysryhma'),
        ),
        migrations.AddField(
            model_name='kysymys',
            name='luotu_kayttaja',
            field=models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja'),
        ),
        migrations.AddField(
            model_name='kysymys',
            name='muutettu_kayttaja',
            field=models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysymys_muutettu_kayttaja', to='kyselyt.kayttaja'),
        ),
        migrations.CreateModel(
            name='Kyselypohja',
            fields=[
                ('kyselypohjaid', models.AutoField(primary_key=True, serialize=False)),
                ('valtakunnallinen', models.BooleanField()),
                ('voimassa_alkupvm', models.DateField(blank=True, null=True)),
                ('voimassa_loppupvm', models.DateField(blank=True, null=True)),
                ('nimi_fi', models.CharField(blank=True, max_length=200, null=True)),
                ('nimi_sv', models.CharField(blank=True, max_length=200, null=True)),
                ('selite_fi', models.TextField(blank=True, null=True)),
                ('selite_sv', models.TextField(blank=True, null=True)),
                ('luotuaika', models.DateTimeField()),
                ('muutettuaika', models.DateTimeField()),
                ('nimi_en', models.CharField(blank=True, max_length=200, null=True)),
                ('selite_en', models.TextField(blank=True, null=True)),
                ('metatiedot', models.JSONField(blank=True, null=True)),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kyselypohja_muutettu_kayttaja', to='kyselyt.kayttaja')),
                ('tila', models.ForeignKey(blank=True, db_column='tila', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.tilaenum')),
            ],
            options={
                'db_table': 'kyselypohja',
                'managed': settings.TESTING,
            },
        ),
        migrations.AddField(
            model_name='kysely',
            name='kyselypohjaid',
            field=models.ForeignKey(blank=True, db_column='kyselypohjaid', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kyselypohja'),
        ),
        migrations.AddField(
            model_name='kysely',
            name='luotu_kayttaja',
            field=models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja'),
        ),
        migrations.AddField(
            model_name='kysely',
            name='muutettu_kayttaja',
            field=models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysely_muutettu_kayttaja', to='kyselyt.kayttaja'),
        ),
        migrations.AddField(
            model_name='kysely',
            name='tila',
            field=models.ForeignKey(blank=True, db_column='tila', null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.tilaenum'),
        ),
        migrations.CreateModel(
            name='Monivalintavaihtoehto',
            fields=[
                ('monivalintavaihtoehtoid', models.AutoField(primary_key=True, serialize=False)),
                ('jarjestys', models.IntegerField()),
                ('teksti_fi', models.CharField(blank=True, max_length=400, null=True)),
                ('teksti_sv', models.CharField(blank=True, max_length=400, null=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('teksti_en', models.CharField(blank=True, max_length=400, null=True)),
                ('kysymysid', models.ForeignKey(db_column='kysymysid', on_delete=django.db.models.deletion.DO_NOTHING, related_name='monivalintavaihtoehdot', to='kyselyt.kysymys')),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='monivalintavaihtoehto_muutettu_kayttaja', to='kyselyt.kayttaja')),
            ],
            options={
                'db_table': 'monivalintavaihtoehto',
                'managed': settings.TESTING,
                'unique_together': {('kysymysid', 'jarjestys')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='kysymys',
            unique_together={('kysymysryhmaid', 'jarjestys', 'matriisi_jarjestys')},
        ),
        migrations.CreateModel(
            name='KysymysryhmaKyselypohja',
            fields=[
                ('kysymysryhmaid', models.OneToOneField(db_column='kysymysryhmaid', on_delete=django.db.models.deletion.DO_NOTHING, primary_key=True, serialize=False, to='kyselyt.kysymysryhma')),
                ('jarjestys', models.IntegerField()),
                ('luotuaika', models.DateTimeField()),
                ('muutettuaika', models.DateTimeField()),
                ('kyselypohjaid', models.ForeignKey(db_column='kyselypohjaid', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kyselypohja')),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysymysryhmakyselypohja_muutettu_kayttaja', to='kyselyt.kayttaja')),
            ],
            options={
                'db_table': 'kysymysryhma_kyselypohja',
                'managed': settings.TESTING,
                'unique_together': {('kysymysryhmaid', 'kyselypohjaid')},
            },
        ),
        migrations.CreateModel(
            name='KyselyKysymysryhma',
            fields=[
                ('kysymysryhmaid', models.ForeignKey(db_column='kysymysryhmaid', on_delete=django.db.models.deletion.DO_NOTHING, primary_key=True, serialize=False, to='kyselyt.kysymysryhma')),
                ('jarjestys', models.IntegerField(blank=True, null=True)),
                ('luotuaika', models.DateTimeField(auto_now_add=True)),
                ('muutettuaika', models.DateTimeField(auto_now=True)),
                ('kyselyid', models.ForeignKey(db_column='kyselyid', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kysymysryhmat', to='kyselyt.kysely')),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kyselykysymysryhma_muutettu_kayttaja', to='kyselyt.kayttaja')),
            ],
            options={
                'db_table': 'kysely_kysymysryhma',
                'managed': settings.TESTING,
                'unique_together': {('kyselyid', 'kysymysryhmaid'), ('kyselyid', 'jarjestys')},
                'ordering': ['jarjestys'],
            },
        ),
        migrations.CreateModel(
            name='KyselyKysymys',
            fields=[
                ('kysymysid', models.OneToOneField(db_column='kysymysid', on_delete=django.db.models.deletion.DO_NOTHING, primary_key=True, serialize=False, to='kyselyt.kysymys')),
                ('luotuaika', models.DateTimeField()),
                ('muutettuaika', models.DateTimeField()),
                ('kyselyid', models.ForeignKey(db_column='kyselyid', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kysely')),
                ('luotu_kayttaja', models.ForeignKey(db_column='luotu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, to='kyselyt.kayttaja')),
                ('muutettu_kayttaja', models.ForeignKey(db_column='muutettu_kayttaja', on_delete=django.db.models.deletion.DO_NOTHING, related_name='kyselykysymys_muutettu_kayttaja', to='kyselyt.kayttaja')),
            ],
            options={
                'db_table': 'kysely_kysymys',
                'managed': settings.TESTING,
                'unique_together': {('kysymysid', 'kyselyid')},
            },
        ),
    ]
